<div class="job-detail-card">
    <div class="job-detail-header">
        <h2>{{ job()?.companyName }}</h2>
        <div class="job-detail-actions">
            <button pButton type="button" icon="pi pi-pencil" label="{{ editMode() ? 'Cancel' : 'Edit' }}"
                (click)="onEdit()"></button>
            <button pButton type="button" icon="pi pi-trash" label="Delete" severity="danger"
                (click)="onDelete()"></button>
        </div>
    </div>

    @if(!editMode()){
    <div class="job-detail-grid">
        <div class="job-detail-row">
            <label>Position:</label>
            <span>{{ job()?.position }}</span>
        </div>
        <div class="job-detail-row">
            <label>Status:</label>
            <span>{{ job()?.status }}</span>
        </div>
        <div class="job-detail-row">
            <label>Remote:</label>
            <span>{{ job()?.isRemote ? 'Yes' : 'No' }}</span>
        </div>
        <div class="job-detail-row">
            <label>Date Applied:</label>
            <span>{{ job()?.dateApplied | date:'mediumDate' }}</span>
        </div>
        <div class="job-detail-notes">
            <label>Notes:</label>
            <p>{{ job()?.notes || 'None' }}</p>
        </div>
    </div>
    }
    @else {
    <app-job-application-form [form]="updateForm"></app-job-application-form>
    <button (click)="onUpdate()">Create</button>
    }
</div>